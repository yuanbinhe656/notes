注：文章内容是数据库系统课程学习的笔记，参考王珊，萨师煊编著的《数据库系统概论》（第5版），北京：高等教育出版社，2018.5.

第4章主要介绍数据库的安全性，具体内容包括数据库安全性概述、实现数据库系统安全性的技术和方法。

题图图片来源：[数据库的安全性思维导图\_一只不起眼的猪的博客-CSDN博客](https://link.zhihu.com/?target=https%3A//blog.csdn.net/qq_45724328/article/details/108956403)

ps: 移动端可查看文章目录。

___

## 4.1 数据库安全性概述

-   数据库的安全性是指保护数据库以防止不合法使用所造成的数据泄露、更改或破坏。
-   系统安全保护措施是否有效是数据库系统主要的性能指标之一。

### 4.1.1 数据库的不安全因素

1.  非授权用户对数据库的恶意存取和破坏
2.  数据库中重要或敏感的数据被泄露
3.  安全环境的脆弱性

### 4.1.2 安全标准简介

1985 年美国国防部正式颁布《DoD可信计算机系统评估准则》（Trusted Computer System Evaluation Criteria，简称 TCSEC 或 DoD85）。

不同国家建立在 TCSEC 概念上的评估准则：

-   欧洲的信息技术安全评估准则（ITSEC）
-   加拿大的可信计算机产品评估准则（CTCPEC）
-   美国的信息技术安全联邦标准（FC）

1993 年，CTCPEC、FC、TCSEC 和 ITSEC 联合行动，解决原标准中概念和技术上的差异，将各自独立的准则集合成一组单一的、能被广泛使用的 IT 安全准则，这一行动被称为通用准则（Common Criteria，CC）项目。

1999 年 CC V2.1版被 ISO 采用为国际标准，2001 年 CC V2.1 版被我国采用为国家标准。

目前 CC 已基本取代了 TCSEC，成为评估信息产品安全性的主要标准。

![](https://pic2.zhimg.com/v2-53c2eb388f6f18e028857119d0653215_b.jpg)

信息安全标准的发展简史

1991年4月，美国国家计算机安全中心（National Computer Security Center，NCSC）颁布了《可信计算机系统评估准则关于可信数据库系统的解释》（TCSEC/Trusted Database Interpretation，TCSECTDI），将 TCSEC 扩展到数据库管理系统。

TCSEC/TDI 中定义了数据库管理系统的设计与实现中需满足和用以进行安全性级别评估的标准，从 4 个方面来描述安全性级别划分的指标，即安全策略、责任、保证和文档。

TCSES/TDI 将系统划分为 4 组（division）7 个等级，依次是 D、C（C1，C2）、B（B1，B2，B3）、A（A1），按系统可靠或可信程度逐渐增高。

| 安全级别 | 定义 |
| --- | --- |
| A1 | 验证设计 |
| B3 | 安全域 |
| B2 | 结构化保护 |
| B1 | 标记安全保护 |
| C2 | 受控的存取保护 |
| C1 | 自主安全保护 |
| D | 最小保护 |

-   D 级：该级是最低级别。保留 D 级的目的是为了将一切不符合更高标准的系统均归于 D 组。如 DOS 就是操作系统中安全标准为 D 级的典型例子，在安全性方面几乎没有什么专门的机制来保障。
-   C1 级：该级只提供了非常初级的自主安全保护，能够实现对用户和数据的分离，进行自主存取控制（DAC），保护或限制用户权限的传播。现有的商业系统往往稍作改进即可满足要求。
-   C2 级：该级实际上是安全产品的最低档，提供受控的存取保护，即将 C1 级的 DAC 进一步细化，以个人身份注册负责，并实施审计和资源隔离。达到 C2 级的产品在其名称中往往不突出“安全”（security） 这一特色。
-   B1 级：标记安全保护。对系统的数据加以标记，并对标记的主体和客体实施强制存取控制（MAC） 以及审计等安全机制。B1 级别的产品被认为是真正意义上的安全产品，满足此级别的产品前一般多冠以“安全”（security）或“可信的”（trusted）字样，作为区别于普通产品的安全产品出售。
-   B2 级：结构化保护。建立形式化的安全策略模型，并对系统内的所有主体和客体实施 DAC 和 MAC。
-   B3 级：安全域。该级的 TCB （Trusted Computing Base）必须满足访问监控器的要求，审计跟踪能力更强，并提供系统恢复过程。
-   A1 级：验证设计，即提供 B3 级保护的同时给出系统的形式化设计说明和验证，以确信各安全保护真正实现。

CC 是在上述各评估准则及具体实践的基础上通过相互总结和互补发展而来的。和早期的评估准则相比，CC 具有结构开放、表达方式通用等特点。

CC 提出了目前国际上公认的表述信息技术安全性的结构，即把对信息产品的安全要求分为

-   安全功能要求：用以规范产品和系统的安全行为。
-   安全保证要求：解决如何正确有效地实施这些功能。

安全功能要求和安全保证要求都以“类-子类-组件”的结构表述，组件是安全要求的最小构件块。

CC 的文本由三部分组成，三个部分相互依存，缺一不可。

-   简介和一般模型：介绍 CC 中的有关术语、基本概念和一般模型以及与评估有关的一些框架
-   安全功能要求：列出了一系列类、子类和组件
-   安全保证要求：列出了一系列保证类、子类和组件，根据系统对安全保证要求的支持情况提出了评估保证级（Evaluation Assurance Level，EAL），从 EAL1 至 EAL7 共分为七级，按保证程度逐渐增高。

| 评估保证级 | 定义 | TCSEC 安全级别（近似相当） |
| --- | --- | --- |
| EAL1 | 功能测试 |  |
| EAL2 | 结构测试 | C1 |
| EAL3 | 系统地测试和检查 | C2 |
| EAL4 | 系统地设计、测试和复查 | B1 |
| EAL5 | 半形式化设计和测试 | B2 |
| EAL6 | 半形式化验证的设计和测试 | B3 |
| EAL7 | 形式化验证的设计和测试 | A1 |

粗略而言，TCSEC 的 C1 和 C2 级分别相当于 EAL2 和 EAL3；B1、B2 和 B3 分别相当于 EAL4、EAL5 和 EAL6；A1 对应于 EAL7。

## 4.2 数据库安全性控制

非法使用数据库的情况

-   编写合法程序绕过数据库管理系统及其授权机制
-   直接或编写应用程序执行非授权操作
-   通过多次合法查询数据库从中推导出一些保密数据

在一般计算机系统中，安全措施是一级一级层层设置的。

-   系统首先根据用户标识鉴定用户身份，合法用户才准许进入计算机系统
-   数据库管理系统还要进行存取控制，只允许用户执行合法操作
-   操作系统有自己的保护措施
-   数据可以以密码形式存储到数据库中

![](https://pic4.zhimg.com/v2-91a452f3a6a7b64b67de4e20aba9aa23_b.png)

计算机系统的安全模型

数据库安全保护的存取控制流程

-   首先，数据库管理系统对提出 SQL 访问请求的数据库用户进行身份鉴别，防止不可信用户使用系统。
-   然后，在 SQL 处理层进行自主存取控制和强制存取控制，进一步还可以进行推理控制。
-   为监控恶意访问，可根据具体安全需求配置审计规则，对用户访问行为和系统关键操作进行审计，对异常用户行为进行简单入侵检测。

![](https://pic3.zhimg.com/v2-80076664c18977c36ee55c7fdf5ae056_b.jpg)

数据库管理系统安全性控制模型

### 4.2.1 用户身份鉴别

用户身份鉴别是数据库管理系统提供的最外层安全保护措施。

每个用户在系统中都有一个用户标识，每个用户标识由用户名（user name）和用户标识号（UID）组成，用户标识号在系统的整个生命周期内是唯一的。

**1\. 静态口令鉴别**

-   静态口令一般由用户自己设定，这些口令是静态不变的。
-   数据库管理系统从口令的复杂度，口令的管理、存储及运输等多方面来保障口令的安全可靠。
-   特点：简单，容易被攻击，安全性较低

**2\. 动态口令鉴别**

-   口令是动态变化的，每次鉴别时均需使用动态产生的新口令登录数据库管理系统，即采用一次一密的方法。
-   常用方式：短信密码和动态令
-   特点：与静态口令鉴别相比，安全性相对高一些

**3\. 生物特征鉴别**

-   通过生物特征进行认证的技术，生物特征是指生物体唯一具有的，可测量、识别和验证的稳定生物特征，如指纹、虹膜和掌纹等。
-   特点：与传统的口令鉴别相比，安全性较高

**4\. 智能卡鉴别**

-   智能卡是一种不可复制的硬件，内置集成电路的芯片，具有硬件加密功能。
-   智能卡由用户随身携带，登录数据库管理系统时用户将智能卡插入专用的读卡器进行身份验证。
-   由于每次从智能卡中读取的数据是静态的，通过内存扫描或网络监听等技术还是可能截取到用户的身份验证信息，存在安全隐患。因此，实际应用中一般采用个人身份识别码（PIN）和智能卡相结合的方式。

### 4.2.2 存取控制

存取控制机制主要包括定义用户权限和合法权限检查两部分。

（1）定义用户权限，并将用户权限登记到数据字典中

-   用户对某一数据对象的操作权力称为权限
-   数据库管理系统提供适当的语言来定义用户权限，这些定义经过编译后存储在数据字典中，被称做安全规则或授权规则。

（2）合法权限检查

-   用户发出存取数据库操作请求，数据库管理系统查找数据字典，根据安全规则进行合法权限检查。

权限定义和合法权检查机制一起组成了数据库管理系统的存取控制子系统。

C2 级的数据库管理系统支持自主存取控制（Discretionary Access Control，简称 DAC），B1 级的数据库管理系统支持强制存取控制（Mandatory Access Control，简称 MAC）。

自主存取控制（DAC）

-   C2级：非常灵活
-   用户对不同的数据库对象有不同的存取权限
-   不同的用户对同一对象也有不同的权限
-   用户还可将其拥有的存取权限转授给其他用户

强制存取控制（MAC）

-   B1级：相对比较严格
-   每一个数据库对象被标以一定的密级
-   每一个用户也被授予某一个级别的许可证
-   对于任意一个对象，只有具有合法许可证的用户才可以存取

### 4.2.3 自主存取控制方法

-   自主存取控制主要通过 SQL 的 GRANT 语句和 REVOKE 语句实现。
-   用户权限由数据库对象和操作类型组成。
-   定义用户的存取权限：就是定义用户可以在哪些数据库对象上进行哪些类型的操作。
-   在数据库系统中，定义存取权限称为授权（authorization）。
-   在非关系系统中，用户只能对数据进行操作，存取控制的数据库对象也仅限于数据本身。
-   在关系数据库系统中，存取控制的对象不仅有数据本身（基本表中的数据、属性列上的数据），还有数据库模式（包括模式、基本表、视图和索引的创建等）。

![](https://pic3.zhimg.com/v2-e07d3fc1d924a29e814daa22581b3aa6_b.jpg)

关系数据库系统中的存取权限

对列的 UPDATE 权限指对于表中存在的某一列的值可以进行修改。有了这个权限之后，在修改的过程中还要遵守表在创建时定义的主码及其他约束。

列上的 INSERT 权限指用户可以插入一个元组。对于插入的元组，授权用户可以插入指定的值，其他列或者为空，或者为默认值。在给用户授予列 INSERT 权限时，一定要包含主码的 INSERT 权限，否则用户的插入动作会因为主码为空而被拒绝。

### 4.2.4 授权：授予与收回

**1\. GRANT**

GRANT 语句的一般格式：

```
GRANT <权限>[,<权限>]…
ON <对象类型> <对象名>[,<对象类型> <对象名>]…
TO <用户>[,<用户>]…
[WITH GRANT OPTION];
```

-   语义：将对指定操作对象的指定操作权限授予指定的用户。
-   发出 GRANT 语句的可以是数据库管理员、数据库对象创建者（即属主 owner）、已经拥有该权限的用户
-   按受权限的用户可以是一个或多个具体用户、PUBLIC（即全体用户）
-   SQL 标准允许具有 WITH GRANT OPTION 的用户把相应权限或其子集传递授予其他用户，但不允许循环授权，即被授权者不能把权限再授回给授权者或其祖先。
-   指定 WITH GRANT OPTION 子句：获得某种权限的用户可以把这种权限再授予其他的用户。
-   没有指定 WITH GRANT OPTION 子句：获得某种权限的用户只能使用该权限，不能传播该权限。

【例 4.1】把查询 Student 表权限授给用户 U1。

```
GRANT SELECT ON TABLE Student TO U1;
```

【例 4.2】把对 Student 表和 Course 表的全部权限授予用户 U2 和 U3。

```
GRANT ALL PRIVILIGES ON TABLE Student,Course TO U2,U3;
```

【例 4.3】把对表 SC 的查询权限授予所有用户。

```
GRANT SELECT ON TABLE SC TO PUBLIC;
```

【例 4.4】把查询 Student 表和修改学生学号的权限授给用户 U4。

```
GRANT UPDATE(Sno), SELECT ON TABLE Student TO U4;
```

对属性列授权时必须明确指出相应的属性列名。

【例 4.5】把对表 SC 的 INSERT 权限授予 U5 用户，并允许将此权限再授予其他用户。

```
GRANT INSERT ON TABLE SC TO U5 WITH GRANT OPTION;
```

【例 4.6】U5 可以将此权限授予 U6。

```
GRANT INSERT ON TABLE SC TO U6 WITH GRANT OPTION;
```

【例 4.7】U6 还可以将此权限授予U7。

```
GRANT INSERT ON TABLE SC TO U7;
```

因为 U6 未给 U7 传播的权限，因此 U7 不能再传播此权限。

![](https://pic1.zhimg.com/v2-1ab78471b140ab653314f03e1f85b104_b.jpg)

执行了例 4.1~4.7 语句后学生-课程数据库中的用户权限定义表

GRANT 语句

-   一次向一个用户授权，如例 4.1 所示
-   一次向多个用户授权，如例 4.2、4.3 所示
-   一次传播多个同类对象的权限，如例 4.2 所示
-   一次可以完成对基本表和属性列这些不同对象的授权，如例 4.4 所示

**2\. REVOKE**

授予用户的权限可以由数据库管理员或其他授权者用 REVOKE 语句收回。

REVOKE 语句的一般格式为：

```
REVOKE <权限>[,<权限>]…
ON <对象类型> <对象名>[,<对象类型><对象名>]…
FROM <用户>[,<用户>]…[CASCADE|RESTRICT];
```

【例 4.8】把用户 U4 修改学生学号的权限收回。

```
REVOKE UPDATE(Sno) ON TABLE Student FROM U4;
```

【例 4.9】收回所有用户对表 SC 的查询权限。

```
REVOKE SELECT ON TABLE SC FROM PUBLIC;
```

【例 4.10】把用户 U5 对 SC 表的 INSERT 权限收回。

```
REVOKE INSERT ON TABLE SC FROM U5 CASCADE;
```

![](https://pic3.zhimg.com/v2-afefc58ee0d158d275ecfdf9671125b6_b.jpg)

执行了例 4.8~4.10 语句后学生-课程数据库中的用户权限定义表

用户可以“自主”地决定将数据的存取权限授予何人、决定是否也将“授权”的权限授予别人。因此称这样的存取控制是自主存取控制。

**3\. 创建数据库模式的权限**

对创建数据库模式一类的数据库对象的授权由数据库管理员在创建用户时实现。

CREATE USER 语句格式：

```
CREATE USER <username> [WITH][DBA|RESOURCE|CONNECT];
```

说明：

-   只有系统的超级用户才有权创建一个新的数据库用户。
-   新创建的数据库用户有三种权限：CONNECT、RESOURCE 和 DBA。
-   如没有指定创建的新用户的权限，默认该用户拥有 CONNECT 权限。拥有 CONNECT 权限的用户不能创建新用户，不能创建模式，也不能创建基本表， 只能登录数据库。
-   拥有 RESOURCE 权限的用户能创建基本表和视图，成为所创建对象的属主。但不能创建模式，不能创建新的用户。
-   拥有 DBA 权限的用户是系统中的超级用户，可以创建新的用户、创建模式、创建基本表和视图等；DBA拥有对所有数据库对象的存取权限，还可以把这些权限授予一般用户。

![](https://pic2.zhimg.com/v2-58aea20db3fbfc4bf2cb7af1bcc009bd_b.jpg)

权限与可执行的操作对照表

注：CREATE USER 语句不是 SQL 标准，因此不同的关系数据库管理系统的语法和内容相差甚远。

### 4.2.5 数据库角色

数据库角色是被命名的一组与数据库操作相关的权限，角色是权限的集合。可以为一组具有相同权限的用户创建一个角色，使用角色来管理数据库可以简化授权的过程。

**1\. 角色的创建**

-   刚刚创建的角色是空的，没有任何内容。

**2\. 给角色授权**

```
GRANT <权限>[,<权限>]…
ON <对象类型>对象名
TO <角色>[,<角色>]…
```

-   数据库管理员和用户可以利用 GRANT 语句将权限授予某一个或几个角色。

**3\. 将一个角色授予其他的角色或用户**

```
GRANT <角色1>[,<角色2>]…
TO <角色3>[,<用户1>]…
[WITH ADMIN OPTION];
```

-   该语句把角色授予某用户，或授予另一个角色。
-   授予者或者是角色的创建者，或拥有在这个角色上的ADMIN OPTION。
-   如果指定了WITH ADMIN OPTION，则获得某种权限的角色或用户还可以把这种权限再授予其他角色。
-   一个角色包含的权限包括直接授予这个角色的全部权限加上其他角色授予这个角色的全部权限。

**4\. 角色权限的收回**

```
REVOKE <权限>[,<权限>]…
ON <对象类型> <对象名>
FROM <角色>[,<角色>]…;
```

-   用户可以收回角色的权限，从而修改角色拥有的权限。
-   REVOKE 动作的执行者：角色的创建者、拥有在这个（些）角色上的 ADMIN OPTION。

【例 4.11】通过角色来实现将一组权限授予一个用户。

步骤如下：

① 首先创建一个角色 R1。

② 然后使用 GRANT 语句，使角色 R1 拥有 Student 表的 SELECT、UPDATE、INSERT 权限。

```
GRANT SELECT, UPDATE, INSERT ON TABLE Student TO R1;
```

③ 将这个角色授予王平，张明，赵玲。使他们具有角色 R1 所包含的全部权限。

④ 可以一次性通过 R1 来回收王平的这 3 个权限。

【例 4.12】角色的权限修改。

```
GRANT DELETE ON TABLE Student TO R1;
```

使角色 R1 在原来的基础上增加了 Student 表的 DELETE 权限。

【例 4.13】使 R1 减少 SELECT 权限。

```
REVOKE SELECT ON TABLE Student FROM R1;
```

### 4.2.6 强制存取控制方法

自主存取控制（DAC）缺点：可能存在数据的“无意泄露”

-   原因：这种机制仅仅通过对数据的存取权限来进行安全控制， 而数据本身并无安全性标记
-   解决：对系统控制下的所有主客体实施强制存取控制策略

强制存取控制（MAC）：系统为保证更高程度的安全性，按照 TDI/TCSEC 标准中安全策略的要求所采取的强制存取检查手段

-   用户不能直接感知或进行控制
-   适用于对数据有严格而固定密级分类的部门，如军事部门、政府部门

在强制存取控制中，数据库管理系统所管理的全部实体被分为主体和客体两大类。

-   主体是系统中的活动实体，包括数据库管理系统所管理的实际用户和代表用户的各进程。
-   客体是系统中的被动实体，受主体操纵，包括文件、基本表、索引、视图等。
-   对于主体和客体，数据库管理系统为它们每个实例（值）指派一个敏感度标记（label）。

敏感度标记被分成若干级别：

-   绝密（Top Secret，TS）、机密（Secret，S）、可信（Confidential，C）、公开（Public，P）
-   密级的次序：TS>=S>=C>=P
-   主体的敏感度标记称为许可证级别（clearance level）
-   客体的敏感度标记称为密级（classification level）

强制存取控制机制就是通过对比主体的敏感度标记和客体的敏感度标记，最终确定主体是否能够存取客体。

强制存取控制规则：

（1）仅当主体的许可证级别大于或等于客体的密级时，该主体才能读取相应的客体。

（2）仅当主体的许可证级别小于或等于客体的密级时，该主体才能写相应的客体。

按照规则（2），用户可以为写入的数据对象赋予高于自己的许可证级别的密级。这样一旦数据被写入，该用户自己也不能再读该数据对象了。如果违反了规则（2），就有可能把数据的密级从高流向低，造成数据的泄漏。例如，某个 TS 密级的主体把一个密级为 TS 的数据恶意地降低为 P，然后把它写回。这样原来是 TS 密级的数据大家都可以读到了，造成了 TS 密级数据的泄漏。

-   强制存取控制是对数据本身进行密级标记，无论数据如何复制，标记与数据是一个不可分的整体，只有符合密级标记要求的用户才可以操纵数据，从而提供了更高级别的安全性。
-   较高安全性级别提供的安全保护要包含较低级别的所有保护，因此在实现强制存取控制时要首先实现自主存取控制。
-   自主存取控制与强制存取控制共同构成数据库管理系统的安全机制。

![](https://pic2.zhimg.com/v2-e3e210082bbc0a6cd34ab7c281397f79_b.jpg)

DAC+MAC安全检查示意图

系统首先进行自主存取控制检查，对通过自主存取控制检查的允许存取的数据库对象再由系统自动进行强制存取控制检查，只有通过强制存取控制检查的数据库对象方可存取。

## 4.3 视图机制

可以为不同的用户定义不同的视图，把数据对象限制在一定的范围内。即通过视图机制把要保密的数据对无权存取这些数据的用户隐藏起来，从而自动对数据提供一定程度的安全保护。

视图机制间接地实现支持存取谓词的用户权限定义。

【例 4.14】建立计算机系学生的视图，把对该视图的 SELECT 权限授于王平，把该视图上的所有操作权限授于张明。

```
/* 先建立计算机系学生的视图 CS_Student */
CREATE VIEW CS_Student AS SELECT * FROM Student WHERE Sdept='CS'; 
/* 在视图上进一步定义存取权限 */ 
GRANT SELECT ON CS_Student TO 王平; 
GRANT ALL PRIVILIGES ON CS_Student TO 张明;
```

## 4.4 审计

审计功能把用户对数据库的所有操作自动记录下来放入审计日志（audit log）中。

审计员可以利用审计日志监控数据库中的各种行为，重现导致数据库现有状况的一系列事件，找出非法存取数据的人、时间和内容等。

C2 以上安全级别的数据库管理系统必须具有审计功能。

-   审计通常是很费时间和空间的
-   数据库管理员可以根据具体应用对安全性的要求，灵活地打开或关闭审计功能
-   审计功能主要用于安全性要求较高的部门
-   可审计事件有服务器事件、系统权限、语句事件及模式对象事件，还包括用户鉴别、自主访问控制和强制访问控制事件  
    

**1\. 审计事件**

-   服务器事件：审计数据库服务器发生的事件，包括数据库服务器的启动、停止、数据库服务器配置文件的重新加载。
-   系统权限：对系统拥有的结构或模式对象进行操作的审计，要求该操作的权限是通过系统权限获得的。
-   语句事件：对 SQL 语句，如 DDL、DML、DQL 及 DCL 语句的审计。
-   模式对象事件：对特定模式对象上进行的 SELECT 或 DML 操作的审计。模式对象包括表、视图、存储过程、函数等，不包括依附于表的索引、约束、触发器、分区表等。

**2\. 审计功能**

-   基本功能，提供多种审计查阅方式
-   提供多套审计规则：一般在初始化设定，以方便审计员管理
-   提供审计分析和报表功能
-   审计日志管理功能，包括为防止审计员误删审计记录，审计日志必须先转储后删除；对转储的审计记录文件提供完整性和保密性保护；只允许审计员查阅和转储审计记录，不允许任何用户新增和修改审计记录等
-   系统提供查询审计设置及审计记录信息的专门视图

**3\. AUDIT 语句和 NOAUDIT 语句**

AUDIT 语句用来设置审计功能，NOAUDIT 语句取消审计功能。

审计一般可以分为用户级审计和系统级审计。

用户级审计

-   任何用户可设置的审计
-   主要是用户针对自己创建的数据库表和视图进行审计

系统级审计

-   只能由数据库管理员设置
-   监测成功或失败的登录要求、监测授权和收回操作以及其他数据库级权限下的操作

【例 4.15】对修改 SC 表结构或修改 SC 表数据的操作进行审计。

```
AUDIT ALTER,UPDATE ON SC;
```

【例 4.16】取消对 SC 表的一切审计。

```
NOAUDIT ALTER,UPDATE ON SC;
```

数据库安全审计系统提供了一种事后检查的安全机制。

## 4.5 数据加密

数据加密是防止数据库中数据在存储和传输中失密的有效手段。

加密的基本思想是根据一定的算法将原始数据——明文（plain text）变换为不可直接识别的格式——密文（cipher text），从而使得不知道解密算法的人无法获知数据的内容。

数据加密主要包括存储加密和传输加密。

**1\. 存储加密**

透明存储加密：内核级加密保护方式，对用户完全透明

-   透明存储加密是数据在写到磁盘时对数据进行加密，授权用户读取数据时再对其进行解密。
-   由于数据加密对用户透明，数据库的应用程序不需要做任何修改，只需在创建表语句中说明需加密的字段即可。
-   基于数据库内核的数据存储加密、解密方法性能较好，安全完备性较高。

非透明存储加密：通过多个加密函数实现

**2\. 传输加密**

链路加密

-   在链路层进行加密
-   传输信息由报头（路由选择信息）和报文（传送的数据信息）两部分组成
-   对报文和报头均加密

端到端加密

-   在发送端加密，接收端解密
-   只加密报文，不加密报头
-   只在发送端和接收端需要密码设备，而中间节点不需要密码设备，因此它所需密码设备数量相对较少
-   不加密报头，从而容易被非法监听者发现并从中获取敏感信息  
    

基于安全套接层协议（Security Socket Layer，SSL）传输方案的实现思路：

（1）确认通信双方端点的可靠性

-   数据库管理系统采用基于数字证书的服务器和客户端认证方式，实现通信双方的可靠性确认。
-   用户和服务器各自持有由知名数字证书认证中心或企业内建 CA 颁发的数字证书，双方在进行通信时，均首先向对方提供己方证书，然后使用本地的 CA 信任列表和证书撤销列表对接收到的对方证书进行验证。

（2）协商加密算法和密钥

-   确认双方端点的可靠性后，通信双方协商本次会话的加密算法与密钥。
-   通信双方利用公钥基础设施方式保证了服务器和客户端的协商过程通信的安全可靠。

（3）可信数据传输

-   业务数据在被发送之前将被用某一组特定的密钥进行加密和消息摘要计算，以密文形式在网络上传输。
-   当业务数据被接收的时候，需用相同一组特定的密钥进行解密和摘要计算。

![](https://pic3.zhimg.com/v2-546953adee3d1f7b8e9419f74f253606_b.jpg)

数据库管理系统可信传输示意图

-   数据库加密使用已有的密码技术和算法对数据库中存储的数据和传输的数据进行保护。加密后数据的安全性能够进一步提高。
-   数据库加密增加了查询处理的复杂性，查询效率会受到影响。
-   加密数据的密钥的管理和数据加密对应用程序的影响也是数据加密过程中需要考虑的问题。

## 4.6 其他安全性保护

推理控制（inference control）

-   处理强制存取控制未解决的问题
-   避免用户利用其能够访问的数据推知更高密级的数据
-   常用方法：基于函数依赖的推理控制、基于敏感关联的推理控制

隐蔽信道（covert channel）

-   处理强制存取控制未解决的问题

数据隐私（data privacy）

-   数据隐私是控制不愿被他人知道或他人不便知道的个人数据的能力。
-   数据隐私范围很广，涉及数据管理中的数据收集、数据存储、数据处理和数据发布等各个阶段。
**知识点**

题型：

选择题：10分

简答题：20分

综合题：50分

分析题：10分

论述题：10分

第二章：进程同步

（1） 前驱图

（2） 互斥同步都有的（进程同步）

第三章：处理机调度与死锁

（1） 调度算法（FCFS、SPF/SJF、HPF、HRRN、RR，调度时间图及周转时间、带权周转时间）

（2） 银行家算法

（3） 死锁检测

第四、五章：存储管理

（1） 地址映射（主要是分页）

（2） 页面置换算法（OPT、FIFO、LRU，页面置换过程及缺页率）

第六章：设备管理

磁盘调度算法（FIFO、SSTF、SCAN、CSCAN，调度次序及寻道长度）

第七、八章：文件管理

（1） 地址映射（索引分配中文件大小的计算）

（2）索引节点的引入

（3） FAT表大小计算

**习题：**

1.  进程同步，信号量机制实现

> 设有6个程序s₁,…, s₆，它们在并发系统中执行时如图所示的制约关系，试用wait和signal原语来实现它们之间的同步。（10分）

2.  进程同步，信号量机制实现。详见上课讲的例题

3.  有如下进程，后一个依次比前一个晚一个时间单位到达，

|      |          |        |
| ---- | -------- | ------ |
| 进程 | 运行时间 | 优先级 |
| A    | 5        | 3      |
| B    | 3        | 5      |
| C    | 1        | 3      |
| D    | 1        | 4      |
| E    | 2        | 2      |

> （1）画出下列调度算法下的调度时间图：FCFS、抢占式\非抢占式SPF、抢占式\非抢占式HPF、HRRN和RR（q=1,q=2）
>
> （2）对于上述每种算法，各个作业的周转时间是多少？平均周转时间是多少？
>
> （3）对于上述每种算法，各个作业的带权周转时间和平均带权周转时间各是多少？
>
> 4.如下资源分配图所示，分析是否存在死锁？
>
> ![](D:/soft/Typora/media/image1.png)
>
> 5.页式存储管理，系统中地址变换机构图。已知某作业页表如下：
>
> 0 2

1 5

2 9

3 8

> 试借助地址变换机构图求出逻辑地址对应的物理地址（1页为1024字节）

\(1\) 2968 （2）4599 （3）1FCCH

6．有一虚拟存储系统，某作业运行中使用的操作数所在的页号依次为：

4 3 2 1 4 3 5 4 3 2 5 1 2 4 2 5 3 4 1 5

> 在内存中为该作业进程开辟3个物理块。分别采用FIFO、LRU页面淘汰算法，图示该作业运行的置换情况，并计算相应的缺页率？

7.  假设磁盘有200个磁道（编号为0～199）的移动头磁盘，在完成了磁道125处的请求后，当前正在磁道号为143的磁道处为一个请求服务。若请求队列以FIFO次序存放，即86，147，91，177，94，150，102，175，130。对下列每一中磁盘调度算法，若要满足这些要求，则总的磁头移动次数为多少 (后两种要求，读写头朝着磁道号增大的方向移动) ？

（1）FCFS (2)SSTF (3)SCAN (4)CSCAN

8.  说明文件物理结构中显式链接的原理，并计算一个200M的硬盘（盘块大小为1KB）其FAT表的大小。

9.  存放在某个磁盘上的文件系统采用混合索引分配方式，其FCB中共有6个地址项，第0—3个地址项为直接地址，第4个地址项为一次间接地址，第5个地址项为二次间接地址，。如果每个盘块的大小为512字节，若盘块号需要用4个字节来描述，而每个盘块最多存放128个盘块地址。则：

（1）该文件系统允许文件的最大长度是多少？

（2）将文件的字节偏移量500，15000和150000转换为物理块号和块内偏移量。

## 题目：

**若磁头的当前位置在第100磁道，现在有一磁盘读写请求序列如下：55，58，39，18，90，160，150，38，184。分别采用先来先服务算法(FCFS)，最短寻道时间优先算法(SSTF)，扫描算法(SCAN)，循环扫描算法(CSCAN)，分别求总寻道长度和平均寻道长度？**

## 解析：

**移臂调度算法在于有效利用磁盘，保证磁盘的快速访问。移臂调度主要有以下几种算法：**

**先来先服务算法(FCFS)：** 该算法只考虑访问请求的先后顺序。如上题当前位置为100，则顺序为(100)，55，58，39，18，90，160，150，38，184。如下表所示：

| 被访问的下一个磁道号 | 移动距离（磁道数） |
| -------------------- | ------------------ |
| 55                   | 45                 |
| 58                   | 3                  |
| 39                   | 19                 |
| 18                   | 21                 |
| 90                   | 72                 |
| 160                  | 70                 |
| 150                  | 10                 |
| 38                   | 112                |
| 184                  | 146                |

因此磁头**总寻道长度：** **(100-55)+(58-55)+(58-39)+(39-18)+(90-18)+(160-90)+(160-150)+(150-38)+(184-38)= 498**，**平均移动磁道数：** **498/9 =55.3**；

**最短寻道时间优先算法(SSTF)：** 从等待的访问者中挑选寻找时间最短的那个请求执行。如上题当前位置为100，则顺序为(100)，90， 58，55，39，38，18，150，160，184。如下表所示：

| 被访问的下一个磁道号 | 移动距离（磁道数） |
| -------------------- | ------------------ |
| 90                   | 10                 |
| 58                   | 32                 |
| 55                   | 3                  |
| 39                   | 16                 |
| 38                   | 1                  |
| 18                   | 20                 |
| 150                  | 132                |
| 160                  | 10                 |
| 184                  | 24                 |

因此磁头**总寻道长度：** **(100-18)+(184-18)=248**，**平均移动磁道数：** **248/9= 27.5**；  
**缺点：产生饥饿现象**

**扫描算法(SCAN)：** 自里向外访问，直到再无更外的磁道需要访问时，才将磁臂换向为自外向里移动。如上题当前位置为100，则顺序为(100)，150，160，184，90，58，55，39，38，18。如下表所示：

| 被访问的下一个磁道号 | 移动距离（磁道数） |
| -------------------- | ------------------ |
| 150                  | 50                 |
| 160                  | 10                 |
| 184                  | 24                 |
| 90                   | 94                 |
| 58                   | 32                 |
| 55                   | 3                  |
| 39                   | 16                 |
| 38                   | 1                  |
| 18                   | 20                 |

因此磁头**总寻道长度：** **(184-100)+(184-18)=250**，**平均移动磁道数：** **250/9= 27.8**；  
**优点：不会产生饥饿现象**

**循环扫描算法(CSCAN)：** 单向扫描，自里向外扫描，当磁头移动到最外面的磁道并访问后，磁头立即返回到最里面的预访问磁道，即将最小磁道号紧接着最大磁道号构成循环。如上题当前位置为100，则顺序为(100)，150，160，184，18，38，39，55，58，90。如下表所示：

| 被访问的下一个磁道号 | 移动距离（磁道数） |
| -------------------- | ------------------ |
| 150                  | 50                 |
| 160                  | 10                 |
| 184                  | 24                 |
| 18                   | 166                |
| 38                   | 20                 |
| 39                   | 1                  |
| 55                   | 16                 |
| 58                   | 3                  |
| 90                   | 32                 |

因此磁头**总寻道长度：** **(184-100)+(184-18)+(90-18)=322**，**平均移动磁道数：** **322/9= 35.8**；  
**优点：具有较好的寻道性能；且不会产生饥饿现象**|